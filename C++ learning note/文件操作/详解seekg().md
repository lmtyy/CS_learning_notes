### **è¯¦è§£ `seekg()` å‡½æ•°**
`seekg()` æ˜¯ C++ æ ‡å‡†åº“ `<fstream>` ä¸­ `std::ifstream` å’Œ `std::fstream` æä¾›çš„å‡½æ•°ï¼Œå®ƒç”¨äº **ç§»åŠ¨æ–‡ä»¶è¾“å…¥æŒ‡é’ˆ**ï¼ˆget æŒ‡é’ˆï¼‰ï¼Œä»¥ä¾¿ä»ä¸åŒä½ç½®è¯»å–æ•°æ®ã€‚

---

## **1. `seekg()` çš„åŸºæœ¬è¯­æ³•**
`seekg()` æœ‰ä¸¤ç§é‡è½½å½¢å¼ï¼š
```cpp
// å½¢å¼ 1ï¼šç»å¯¹å®šä½
seekg(std::streampos pos);

// å½¢å¼ 2ï¼šç›¸å¯¹å®šä½
seekg(std::streamoff offset, std::ios::seekdir dir);
```
### **å‚æ•°è¯´æ˜**
- `pos`ï¼š**ç»å¯¹ä½ç½®**ï¼Œè¡¨ç¤ºæ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°çš„å…·ä½“å­—èŠ‚ä½ç½®ï¼ˆ`std::streampos`ï¼‰ã€‚
- `offset`ï¼š**åç§»é‡**ï¼Œç”¨äºç›¸å¯¹ç§»åŠ¨ï¼ˆ`std::streamoff`ï¼‰ã€‚
- `dir`ï¼š**åç§»çš„å‚è€ƒä½ç½®**ï¼ˆ`std::ios::seekdir`ï¼‰ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š
  - `std::ios::beg`ï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä»æ–‡ä»¶å¼€å¤´åç§» `offset` ä¸ªå­—èŠ‚ã€‚
  - `std::ios::cur`ï¼šä»å½“å‰æŒ‡é’ˆä½ç½®åç§» `offset` ä¸ªå­—èŠ‚ã€‚
  - `std::ios::end`ï¼šä»æ–‡ä»¶æœ«å°¾å‘å‰åç§» `offset` ä¸ªå­—èŠ‚ã€‚

---

## **2. `seekg()` ç”¨æ³•ç¤ºä¾‹**
### **ï¼ˆ1ï¼‰è·³è½¬åˆ°æ–‡ä»¶çš„æŸä¸ªä½ç½®**
```cpp
#include <iostream>
#include <fstream>

int main() {
    std::ifstream file("example.txt", std::ios::binary); // ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€
    if (!file) {
        std::cerr << "æ— æ³•æ‰“å¼€æ–‡ä»¶ï¼" << std::endl;
        return 1;
    }

    file.seekg(5, std::ios::beg);  // å°†æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°ç¬¬ 5 ä¸ªå­—èŠ‚
    char ch;
    file.get(ch);  // è¯»å–å½“å‰ä½ç½®çš„å­—ç¬¦
    std::cout << "ç¬¬ 5 ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼š" << ch << std::endl;

    file.close();
    return 0;
}
```
### **è§£æ**
1. `seekg(5, std::ios::beg)`ï¼šæŠŠæ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°ç¬¬ 5 ä¸ªå­—èŠ‚ï¼ˆä» `0` å¼€å§‹è®¡æ•°ï¼‰ã€‚
2. `file.get(ch)` è¯»å–è¯¥ä½ç½®çš„å­—ç¬¦ã€‚

---

### **ï¼ˆ2ï¼‰è·å–æ–‡ä»¶å¤§å°**
`seekg()` å¸¸ç”¨äºè·å–æ–‡ä»¶å¤§å°ï¼š
```cpp
#include <iostream>
#include <fstream>

int main() {
    std::ifstream file("example.txt", std::ios::binary | std::ios::ate); // ç›´æ¥è·³åˆ°æ–‡ä»¶æœ«å°¾
    if (!file) {
        std::cerr << "æ— æ³•æ‰“å¼€æ–‡ä»¶ï¼" << std::endl;
        return 1;
    }

    std::streampos fileSize = file.tellg(); // è·å–å½“å‰æŒ‡é’ˆä½ç½®ï¼ˆå³æ–‡ä»¶å¤§å°ï¼‰
    std::cout << "æ–‡ä»¶å¤§å°ï¼š" << fileSize << " å­—èŠ‚" << std::endl;

    file.close();
    return 0;
}
```
### **è§£æ**
1. ä»¥ `std::ios::ate` æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œä½¿å¾—æ–‡ä»¶æŒ‡é’ˆç›´æ¥è·³åˆ°æœ«å°¾ã€‚
2. `tellg()` è·å–å½“å‰ä½ç½®ï¼Œå³æ–‡ä»¶çš„æ€»å¤§å°ã€‚

---

### **ï¼ˆ3ï¼‰ä»æ–‡ä»¶æœ«å°¾å€’æ•° N ä¸ªå­—èŠ‚è¯»å–**
```cpp
#include <iostream>
#include <fstream>

int main() {
    std::ifstream file("example.txt", std::ios::binary);
    if (!file) {
        std::cerr << "æ— æ³•æ‰“å¼€æ–‡ä»¶ï¼" << std::endl;
        return 1;
    }

    file.seekg(-3, std::ios::end);  // ä»æ–‡ä»¶æœ«å°¾å€’æ•° 3 ä¸ªå­—èŠ‚
    char ch;
    file.get(ch);
    std::cout << "å€’æ•°ç¬¬ 3 ä¸ªå­—èŠ‚ï¼š" << ch << std::endl;

    file.close();
    return 0;
}
```
### **è§£æ**
1. `seekg(-3, std::ios::end)`ï¼šå°†æŒ‡é’ˆä»æ–‡ä»¶æœ«å°¾å‘å‰ç§»åŠ¨ 3 ä¸ªå­—èŠ‚ã€‚
2. `file.get(ch)` è¯»å–å€’æ•°ç¬¬ 3 ä¸ªå­—èŠ‚ã€‚

---

## **3. `seekg()` ä¸ `tellg()` é…åˆä½¿ç”¨**
`tellg()` ç”¨äºè·å–å½“å‰æ–‡ä»¶æŒ‡é’ˆçš„ä½ç½®ï¼Œé€šå¸¸ä¸ `seekg()` ç»“åˆä½¿ç”¨ã€‚

```cpp
#include <iostream>
#include <fstream>

int main() {
    std::ifstream file("example.txt", std::ios::binary);
    if (!file) {
        std::cerr << "æ— æ³•æ‰“å¼€æ–‡ä»¶ï¼" << std::endl;
        return 1;
    }

    file.seekg(0, std::ios::beg); // ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´
    std::cout << "å½“å‰ä½ç½®ï¼š" << file.tellg() << std::endl;

    file.seekg(10, std::ios::cur); // å‘å‰ç§»åŠ¨ 10 ä¸ªå­—èŠ‚
    std::cout << "å½“å‰ä½ç½®ï¼š" << file.tellg() << std::endl;

    file.seekg(0, std::ios::end); // ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾
    std::cout << "æ–‡ä»¶å¤§å°ï¼š" << file.tellg() << " å­—èŠ‚" << std::endl;

    file.close();
    return 0;
}
```
### **è§£æ**
1. `tellg()` è®°å½•å½“å‰æŒ‡é’ˆä½ç½®ã€‚
2. `seekg(10, std::ios::cur)` è®©æŒ‡é’ˆå‰è¿› 10 ä¸ªå­—èŠ‚ã€‚
3. `seekg(0, std::ios::end)` è®©æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾ï¼Œä»¥è·å–æ–‡ä»¶å¤§å°ã€‚

---

## **4. `seekg()` çš„å¸¸è§é—®é¢˜**
### **ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆ `seekg()` å¯èƒ½å¤±è´¥ï¼Ÿ**
- **æ–‡ä»¶æœªæ‰“å¼€**ï¼Œå¯¼è‡´ `seekg()` æ“ä½œæ— æ•ˆã€‚
- **äºŒè¿›åˆ¶å’Œæ–‡æœ¬æ¨¡å¼çš„åŒºåˆ«**ï¼š
  - æ–‡æœ¬æ¨¡å¼ä¸‹ `seekg()` å¯èƒ½ä¸æŒ‰å­—èŠ‚æ“ä½œï¼ˆç‰¹åˆ«æ˜¯åœ¨ Windows ä¸Šï¼‰ã€‚
  - **äºŒè¿›åˆ¶æ¨¡å¼ (`std::ios::binary`) æ›´å¯é **ã€‚

### **ï¼ˆ2ï¼‰`seekg()` å¯¹ `std::ofstream` é€‚ç”¨å—ï¼Ÿ**
- `seekg()` åªèƒ½ç”¨äº **è¾“å…¥æµ**ï¼ˆ`std::ifstream` æˆ– `std::fstream`ï¼‰ã€‚
- **è¾“å‡ºæµï¼ˆ`std::ofstream`ï¼‰è¦ç”¨ `seekp()` æ¥ç§»åŠ¨å†™å…¥æŒ‡é’ˆ**ã€‚

---

## **5. `seekg()` çš„åº”ç”¨åœºæ™¯**
| **åº”ç”¨** | **å®ç°æ–¹å¼** |
|----------|------------|
| **è·å–æ–‡ä»¶å¤§å°** | `seekg(0, std::ios::end); tellg();` |
| **è·³è½¬åˆ°æŒ‡å®šä½ç½®è¯»å–** | `seekg(pos, std::ios::beg);` |
| **å€’æ•° N å­—èŠ‚è¯»å–** | `seekg(-N, std::ios::end);` |
| **è·³è¿‡æ–‡ä»¶å¤´éƒ¨æ•°æ®** | `seekg(offset, std::ios::beg);` |
| **è·³åˆ°ä¸­é—´æŸä¸ªä½ç½®è¯»å–** | `seekg(offset, std::ios::cur);` |

---

## **6. æ€»ç»“**
- `seekg()` ä¸»è¦ç”¨äº **è°ƒæ•´æ–‡ä»¶è¾“å…¥æµæŒ‡é’ˆä½ç½®**ã€‚
- `seekg(pos)` ç»å¯¹å®šä½ï¼Œ`seekg(offset, dir)` ç›¸å¯¹ç§»åŠ¨ï¼š
  - `std::ios::beg`ï¼ˆä»å¤´éƒ¨åç§»ï¼‰
  - `std::ios::cur`ï¼ˆä»å½“å‰åç§»ï¼‰
  - `std::ios::end`ï¼ˆä»æœ«å°¾åç§»ï¼‰
- å¸¸ç”¨äº **è·å–æ–‡ä»¶å¤§å°**ã€**è·³è½¬åˆ°æŒ‡å®šä½ç½®è¯»å–æ•°æ®**ã€‚
- **äºŒè¿›åˆ¶æ¨¡å¼ (`std::ios::binary`) æ›´å¯é **ã€‚

å¦‚æœä½ æœ‰æ›´å…·ä½“çš„åº”ç”¨éœ€æ±‚ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šç»™ä½ æ›´è¯¦ç»†çš„ç¤ºä¾‹ï¼ ğŸš€