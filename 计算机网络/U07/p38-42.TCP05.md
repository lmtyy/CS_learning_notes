这四页课件（image_1be749, image_1be726, image_1be461, image_1be47d）带我们深入到了 TCP 首部中负责**控制和调节**的核心字段。

通过这些字段，TCP 才能实现“流量控制”、“紧急处理”以及“连接管理”。

---

### 1. 首部长度 (Header Length)

这张课件（image_1be461）解释了如何确定 TCP 报头的边界。

* **含义**：指明 TCP 首部包含多少个 **4 字节（32 位）** 的字。
* **范围**：首部长度可以在 **20 到 60 字节** 之间。
* **为什么变动？** 因为 TCP 首部末尾有一个可选的“选项（Options）”字段。如果没有选项，首部长度就是最小的 20 字节。

### 2. 窗口大小 (Window Size)

这张课件（image_1be749）介绍了 TCP 实现**流量控制**的秘密武器。

* **定义**：定义了接收方目前允许对方发送的字节数（以字节为单位）。
* **作用**：接收方根据自己的缓存剩余空间，通过这个字段告诉发送方：“我现在还能吃下这么多货，别发太快淹没我！”。

### 3. 控制位 (Code Bits / Flags)

这两张课件（image_1be47d, image_1be726）展示了 6 个非常重要的**标志位**，它们像开关一样控制着连接的状态：

| 缩写 | 全称 | 作用解读 |
| --- | --- | --- |
| **URG** | Urgent | **紧急指针有效**。标记此报文中有需要优先处理的紧急数据。 |
| **ACK** | Acknowledgment | **确认号有效**。几乎所有正常的 TCP 报文都会置为 1（除了握手的第一步）。 |
| **PSH** | Push | **推送数据**。要求接收方尽快将数据交付应用层，不要在缓存里攒着了。 |
| **RST** | Reset | **重置连接**。当连接出现严重错误或被拒绝时，强制断开。 |
| **SYN** | Synchronize | **同步序列号**。仅在建立连接（三次握手）时使用。 |
| **FIN** | Finish | **终止连接**。发送方已经没数据发了，准备断开（四次挥手）。 |

### 4. 紧急指针 (Urgent Pointer)

这张课件（image_1be726）是对 URG 位的补充。

* **生效条件**：只有当 **URG 标志位设为 1** 时，这个字段才有效。
* **功能**：它指出本报文段中紧急数据的结束位置。比如你在终端按了 `Ctrl+C` 想停止程序，这个指令就会被当作紧急数据优先处理。

---

### 🎓 学习小贴士

在接下来的课程中，你会频繁听到“**SYN 包**”、“**ACK 包**”或“**FIN 包**”，这些其实就是指**对应的控制位被设为 1** 的 TCP 报文段。

* **三次握手**：就是 SYN 和 ACK 位的配合表演。
* **流量控制**：就是 Window 字段在实时变动。

你想让我结合这些标志位，为你演示一下 **TCP 三次握手** 的具体过程吗？那是计网考试最爱考的题目。