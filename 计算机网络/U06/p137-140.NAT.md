这四张课件讲解的是网络世界中一个“救命”的技术：**NAT (网络地址转换)**。

之前的课件里我们提到 IP 地址（特别是 IPv4）快不够用了。NAT 就是为了解决这个问题而诞生的。它允许我们**在家里随便用“私有IP”**，出门时再统一换成**合法的“公网IP”**。

我为你把这四张图串成一个完整的逻辑链：

### 1. 概念基础：私有地址 (Private Addresses)
**对应课件：**

这张图告诉你：有一部分 IP 地址是专门留给你在局域网内部使用的，**不需要花钱申请**，但也**不能上互联网**。

* **三大私有网段 (RFC 1918)：**
    1.  **Class A:** `10.0.0.0` - `10.255.255.255` (大型企业常用)
    2.  **Class B:** `172.16.0.0` - `172.31.255.255` (学校常用，之前的例子里经常出现)
    3.  **Class C:** `192.168.0.0` - `192.168.255.255` (家庭路由器最常用)
* **规则：** 互联网上的路由器看到这些地址会**直接丢弃 (Discard)**。因为全世界可能有几百万个 `192.168.0.1`，公网路由器根本不知道该发给谁。

---

### 2. 核心功能：NAT 是做什么的？
**对应课件：** &

既然私有地址不能上公网，那大家怎么上网呢？这就需要 **NAT (Network Address Translation)**。

* **角色：** NAT 路由器就像一个 **“翻译官”** 或 **“公司前台”**。
* **功能：**
    * 它允许内部的一群电脑使用私有 IP（比如 `10.x.x.x`）。
    * 当这些电脑要访问互联网时，NAT 会把它们的“内部私有地址”**替换**成路由器自己拥有的“外部公网地址”。
    * 对于外部互联网来说，它们以为只是在和这一个路由器通信。

---

### 3. 原理解析：NAT 是怎么“偷梁换柱”的？(重点)
**对应课件：**

这张图非常详细地展示了数据包在经过路由器时发生了什么。这是考试重点，涉及到 **Cisco 的四个术语**：

#### **关键术语：**
* **Inside Local (内部本地):** 你电脑的真实私有 IP (如 `10.1.1.1`)。
* **Inside Global (内部全局):** 路由器借给你的公网 IP (如 `198.168.2.1`)。外部世界只看得到这个 IP。

#### **通信过程 (Step-by-Step)：**
1.  **发送请求 (1 $\rightarrow$ 5 $\rightarrow$ 3)：**
    * 你的电脑 (Host A) 发出一个包，源地址是 `10.1.1.1`。
    * 数据包到达路由器。路由器查阅 **NAT Table (翻译表)**。
    * 路由器把源地址 `10.1.1.1` **抹掉**，改写成公网地址 `198.168.2.1`，然后发到互联网上。
2.  **接收回复 (4 $\rightarrow$ 3 $\rightarrow$ 5)：**
    * 互联网服务器 (Host B) 收到信后，回信给 `198.168.2.1`（它根本不知道 `10.1.1.1` 的存在）。
    * 路由器收到回信。
    * 路由器再查表，发现 `198.168.2.1` 对应的是内部的 `10.1.1.1`。
    * 路由器把目标地址改回 `10.1.1.1`，转发给你。

### 总结
这四张课件讲述了 NAT 的完整故事：
* **背景：** 私有 IP (`192.168...`) 只能在家里用，出不了门。
* **方案：** NAT 路由器作为中介，帮内部主机“代购”互联网数据。
* **机制：** 通过维护一张 **映射表 (NAT Table)**，在数据包进出时实时修改 IP 头部地址，实现“一群人用一个公网 IP 上网”的效果。