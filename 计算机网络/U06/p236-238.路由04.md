这三张课件（`image_cdc545.jpg` 到 `image_cdc566.jpg`）将路由过程拆解为了两个最基本的动作：**直接交付 (Direct Delivery)** 和 **间接交付 (Indirect Delivery)**。

这就像快递运输：**直接交付**是快递员把包裹亲手交到你手里；**间接交付**则是包裹在不同城市的转运中心之间跳跃。

以下是详细解析：

### 1. 直接交付 (Direct Delivery)

**图片**: `image_cdc566.jpg` 和 `image_cdc545.jpg`

* **定义**：当数据包的**源主机**和**目的主机**位于**同一个物理网络**上时，或者在传输的最后一步，即从**最后一个路由器**到目标主机时，发生直接交付。
* **识别方式**：发送者可以通过目标 IP 地址轻松判断目的地是否在自己的局域网内。
* **执行动作**：发送者直接通过目标 IP 地址查找对应的**目标物理地址 (MAC)**，然后封装成帧直接发给对方，不经过路由器转发。
* **图示理解**：看 `image_cdc545.jpg` 中 A 到 B 的路径，以及最后路由器到 C 的路径，这些都属于“直接交付”。

---

### 2. 间接交付 (Indirect Delivery)

**图片**: `image_cdc560.png` 和 `image_cdc545.jpg`

* **定义**：当目的地不在本地网络时，数据包必须在路由器之间“跳跃”，直到到达与目的地直接相连的那个物理网络。
* **执行动作**：发送者查路由表找到**下一个路由器 (Next Router)** 的 IP 地址，并把包发给它。
* **图示理解**：看 `image_cdc545.jpg` 中间跨越多个云团（网络）的红箭线，这些都是“间接交付”。

---

### 3. 核心黄金准则 (必考点)

**图片**: `image_cdc545.jpg` 黄色方框

课件总结了一个非常重要的传输规律：

> **一次完整的交付，总是包含“零个或多个”间接交付，但最后“有且只有一次”直接交付。**

**通俗理解：**

* 如果你要找的人就在你屋里，那就是 **1次直接交付**（间接交付为 0）。
* 如果你要找的人在异地，数据包会在各城市的路由器之间跳很多次（**N 次间接交付**），但无论走多远，最后把包从目的地那个派出所（最后跳路由器）送到收件人家里（目标主机）的那一步，永远是 **1 次直接交付**。

### 💡 总结

* **直接交付**：靠 **MAC 地址** 在同一个屋檐下（局域网）传。
* **间接交付**：靠 **IP 地址** 查路由表，在不同屋檐（网络）之间跨越。

这组图完美解释了为什么我们之前的实验中，路由器在最后一步总是要发一个 ARP 请求——因为它正在执行那最后一次、至关重要的“直接交付”。

**下一步建议**：我们已经讲完了数据包怎么走，你想看看路由器内部的**路由表**具体由哪些列组成吗？（比如：目的地址、掩码、下一跳等）