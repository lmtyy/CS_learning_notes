最后这两张课件详细拆解了 IPv6 **分级结构**中的前两个等级：**顶级（第一级）**和**地点级（第二级）**。

这种设计是为了实现**路由聚合**，让全球互联网的路由器不需要记录每一台设备的地址，只需要记住通往某个大型运营商或某个地区的“大路”即可。

---

### 1. 第一级地址：全球公共拓扑 (Global Topology)

这一级地址主要由全球管理机构分配给大型 **ISP（互联网服务提供商）**。它包含四个核心字段：

* **P 字段 (3 bit)**：格式前缀，定义了这是全球单播地址。
* **TLA ID (13 bit)**：顶级聚合标识符。这部分指派给像中国电信、AT&T 这样的大型 ISP，或者是拥有汇接点 (exchange) 的机构。
* **保留字段 (8 bit)**：留作未来扩展使用。
* **NLA ID (24 bit)**：下一级聚合标识符。通常由顶级 ISP 继续向下指派给特定的用户、小型 ISP 或大型企事业单位。

> **直观理解**：第一级就像是快递单上的“省/市”信息，决定了数据包如何在大洲和国家之间流动。

---

### 2. 第二级地址：地点级聚合 (Site Level Topology)

当数据包到达某个具体的机构（如学校、公司）后，就进入了第二级管理范围。

* **SLA ID (16 bit)**：站点级聚合标识符。
* **功能**：它允许机构内部划分自己的**子网**。这 16 位可以支持  个子网。
* **类比**：课件提到它和 **IPv4 中的子网字段 (Subnet ID)** 非常相似。它指明了数据包应该去往该机构内的哪个具体部门或哪栋建筑的局域网。

---

### 总结：IPv6 的“寻址逻辑”

通过这两页课件，你可以串联起整个 IPv6 的 128 位是如何工作的：

| 级别 | 长度 | 负责范围 | 对应课件内容 |
| --- | --- | --- | --- |
| **第一级 (顶级)** | 48 bit | 全球/运营商路由 | P + TLA + 保留 + NLA |
| **第二级 (地点级)** | 16 bit | 机构内部子网 | SLA |
| **第三级 (接口级)** | 64 bit | 具体设备接口 | 接口标识符（由 MAC 转换等） |

这种分层方式极大地减轻了全球核心路由器的负担。你想尝试根据这个结构，分析一个真实的 IPv6 地址中哪部分是属于 ISP，哪部分是属于学校子网吗？