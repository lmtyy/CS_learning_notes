这三页新课件详细介绍了 **ICMP（互联网控制消息协议）** 的消息分类及其具体的**报文类型（Types）**。这是网络诊断和差错处理的核心参考。

ICMP 消息被划分为两大类：**差错报告报文（Error-reporting messages）** 和 **查询报文（Query messages）**。

---

### 1. 差错报告报文 (Error-reporting messages)

这类报文用于报告路由器或主机在处理 IP 数据报时遇到的问题。

| 类型 (Type) | 消息名称 | 含义 |
| --- | --- | --- |
| **3** | **Destination unreachable** | **终点不可达**。当路由器无法找到通往目的地的路径，或主机无法交付数据时发送。 |
| **4** | **Source quench** | **源点抑制**。当接收方或中途路由器由于拥塞而丢弃数据包时，请求源点放慢发送速度。 |
| **11** | **Time exceeded** | **时间超过**。最常见于生存时间（TTL）减为 0，防止包在环路中无限传输。这也是 `Traceroute` 工具的基础。 |
| **12** | **Parameter problem** | **参数问题**。IP 首部出现错误或字段损坏时发送。 |
| **5** | **Redirection** | **改变路由（重定向）**。告诉主机：“去这个目的地走另一台路由器更快”。 |

---

### 2. 查询报文 (Query messages)

这类报文通常**成对出现**（请求/应答），帮助主机或网络管理员获取特定的网络信息。

| 类型 (Type) | 消息名称 | 典型应用 |
| --- | --- | --- |
| **8 或 0** | **Echo request or reply** | **回送请求或回答**。这是 `ping` 命令的工作原理，用于测试两台主机之间是否连通。 |
| **13 或 14** | **Timestamp request or reply** | **时间戳请求或回答**。用于同步时钟或测量网络往返延迟。 |
| **17 或 18** | **Address mask request or reply** | **地址掩码请求或回答**。帮助无盘工作站获取自己的子网掩码。 |
| **10 或 9** | **Router solicitation or advertisement** | **路由器询问或通告**。让主机发现本地网络上的路由器地址。 |

---

### 💡 核心总结与复习建议

* **差错报告 (Type 3, 4, 5, 11, 12)**：是**单向**的，由发现问题的节点发回给源点。
* **查询报文 (Type 0/8, 9/10, 13/14, 17/18)**：是**双向**的，一问一答。
* **必考点**：`ping` 使用的是 Type 8 和 Type 0；`traceroute` 主要利用了 Type 11。

**下一步建议：**
你需要我为你详细解释一下 `ping` 或者 `traceroute` 是如何具体利用这些 ICMP 类型来工作的吗？这通常是老师最爱考的实验题背景。