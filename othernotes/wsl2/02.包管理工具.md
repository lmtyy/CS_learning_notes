## ğŸ” **WSL2 åŒ…ç®¡ç†å·¥å…·å…¨é¢è§£æ**

ä½œä¸ºmacOSç”¨æˆ·ï¼Œä½ ä¹ æƒ¯ç”¨Homebrewï¼ŒWSL2ä¹Ÿæœ‰ç±»ä¼¼çš„åŒ…ç®¡ç†ç”Ÿæ€ã€‚æˆ‘æ¥è¯¦ç»†ä¸ºä½ æ¢³ç†ï¼š

## ğŸ“¦ **ä¸»æµåŒ…ç®¡ç†å™¨å¯¹æ¯”**

| å·¥å…· | ç±»æ¯”Homebrew | ç‰¹ç‚¹ | é€‚åˆåœºæ™¯ |
|------|------------|------|---------|
| **APT** (é»˜è®¤) | macOSç³»ç»Ÿè‡ªå¸¦`/usr/bin` | ç³»ç»Ÿçº§ï¼Œç¨³å®šï¼Œå®˜æ–¹æº | ç³»ç»Ÿå·¥å…·ã€åº“ã€åŸºç¡€å¼€å‘ç¯å¢ƒ |
| **Homebrew for Linux** | å®Œå…¨ä¸€è‡´ | ç”¨æˆ·ç©ºé—´ï¼Œä¸å¹²æ‰°ç³»ç»Ÿ | macOSç”¨æˆ·æ— ç¼è¿ç§»ï¼Œè¾ƒæ–°ç‰ˆæœ¬ |
| **Snap** | ç±»ä¼¼App Store | æ²™ç®±åŒ–ï¼Œè·¨å‘è¡Œç‰ˆ | æ¡Œé¢åº”ç”¨ã€æ˜“å®‰è£… |
| **Conda** | - | ç¯å¢ƒéš”ç¦»ï¼Œç§‘å­¦è®¡ç®— | Pythonç§‘å­¦è®¡ç®—ã€æœºå™¨å­¦ä¹  |

## ğŸ¯ **1. APT - ç³»ç»Ÿçº§åŒ…ç®¡ç†ï¼ˆæœ€å¸¸ç”¨ï¼‰**

```bash
# ======== åŸºç¡€æ“ä½œï¼ˆç±»æ¯”brewï¼‰========
sudo apt update                    # brew update
sudo apt upgrade                   # brew upgrade
sudo apt install <package>         # brew install
sudo apt remove <package>          # brew uninstall
sudo apt autoremove                # æ¸…ç†ä¸éœ€è¦çš„ä¾èµ–

# ======== æœç´¢å’ŒæŸ¥è¯¢ ========
apt search <keyword>               # brew search
apt show <package>                 # brew info
apt list --installed              # brew list

# ======== å®é™…ç¤ºä¾‹ ========
# å®‰è£…å¼€å‘å·¥å…·å¥—ä»¶ï¼ˆç›¸å½“äºbrewå®‰è£…å¼€å‘å·¥å…·ï¼‰
sudo apt install build-essential git curl wget

# å®‰è£…Pythonç›¸å…³
sudo apt install python3 python3-pip python3-venv

# æ¸…ç†ç¼“å­˜ï¼ˆç›¸å½“äºbrew cleanupï¼‰
sudo apt autoclean
sudo apt clean
```

**APTæ–‡ä»¶ä½ç½®**ï¼š
- é…ç½®æ–‡ä»¶ï¼š`/etc/apt/sources.list`
- ç¼“å­˜ç›®å½•ï¼š`/var/cache/apt/`
- å®‰è£…ä½ç½®ï¼šç³»ç»Ÿç›®å½•å¦‚ `/usr/bin/`, `/usr/lib/`

## ğŸº **2. Homebrew for Linux - æ— ç¼è¿ç§»**

å¥½æ¶ˆæ¯ï¼ä½ å¯ä»¥åœ¨WSL2ä¸­ç›´æ¥å®‰è£…Homebrewï¼Œç”¨æ³•å®Œå…¨ä¸€æ ·ï¼

```bash
# ======== å®‰è£…Homebrew ========
# æ–¹æ³•1ï¼šå®˜æ–¹è„šæœ¬
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# æ–¹æ³•2ï¼šå›½å†…é•œåƒåŠ é€Ÿ
# å®‰è£…åè®¾ç½®ç¯å¢ƒå˜é‡
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> ~/.bashrc
source ~/.bashrc

# ======== ä½¿ç”¨ï¼ˆå’ŒmacOSå®Œå…¨ä¸€æ ·ï¼‰========
brew update
brew install node@20          # å®‰è£…æŒ‡å®šç‰ˆæœ¬
brew install --cask vscode   # Linuxç‰ˆcaskæœ‰é™åˆ¶
brew services start mysql    # æœåŠ¡ç®¡ç†
brew list                    # å·²å®‰è£…åˆ—è¡¨
brew doctor                  # è¯Šæ–­é—®é¢˜

# ======== é…ç½®é•œåƒåŠ é€Ÿï¼ˆä¸­å›½ç”¨æˆ·ï¼‰=======
# æ¸…åå¤§å­¦é•œåƒ
cd "$(brew --repo)"
git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
```

**Homebrewåœ¨Linuxçš„ç‰¹ç‚¹**ï¼š
- é»˜è®¤å®‰è£…åˆ° `/home/linuxbrew/.linuxbrew/`
- ä¸å¹²æ‰°ç³»ç»Ÿè‡ªå¸¦è½¯ä»¶ï¼ˆæ›´å®‰å…¨ï¼‰
- è½¯ä»¶ç‰ˆæœ¬é€šå¸¸æ¯”APTæ–°
- **æ¨è**ï¼šç”¨äºå¼€å‘å·¥å…·ã€æ–°ç‰ˆè¯­è¨€è¿è¡Œæ—¶

## ğŸ“¦ **3. Snap - åº”ç”¨å•†åº—å¼ç®¡ç†**

```bash
# ======== å®‰è£…Snap ========
sudo apt update
sudo apt install snapd
sudo systemctl enable --now snapd.socket

# ======== åŸºæœ¬ä½¿ç”¨ ========
sudo snap install <app>              # å®‰è£…åº”ç”¨
sudo snap refresh                    # æ›´æ–°æ‰€æœ‰
sudo snap remove <app>               # ç§»é™¤
snap list                            # å·²å®‰è£…åˆ—è¡¨
snap find <keyword>                  # æœç´¢

# ======== å¸¸ç”¨AI/å¼€å‘å·¥å…· ========
sudo snap install code --classic     # VS Code
sudo snap install go --classic       # Goè¯­è¨€
sudo snap install pycharm-community --classic  # PyCharm
```

**Snapç‰¹ç‚¹**ï¼š
- åº”ç”¨å¸¦æ‰€æœ‰ä¾èµ–ï¼Œè‡ªåŒ…å«
- è‡ªåŠ¨æ›´æ–°
- æ²™ç®±å®‰å…¨éš”ç¦»
- **æ³¨æ„**ï¼šå¯åŠ¨è¾ƒæ…¢ï¼Œå ç”¨ç©ºé—´å¤§

## ğŸ **4. Conda - Pythonç§‘å­¦è®¡ç®—ä¸“å±**

å¯¹äºAIç§‘ç ”ï¼ŒCondaæ˜¯å¿…å¤‡å·¥å…·ï¼

```bash
# ======== å®‰è£…Minicondaï¼ˆæ¨èï¼‰=======
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh
# å®‰è£…åé‡å¯ç»ˆç«¯æˆ–è¿è¡Œï¼šsource ~/.bashrc

# ======== CondaåŸºæœ¬æ“ä½œ ========
conda create -n pytorch python=3.10    # åˆ›å»ºç¯å¢ƒ
conda activate pytorch                 # æ¿€æ´»ç¯å¢ƒ
conda install pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia
conda deactivate                       # é€€å‡ºç¯å¢ƒ
conda env list                         # ç¯å¢ƒåˆ—è¡¨
conda remove -n pytorch --all         # åˆ é™¤ç¯å¢ƒ

# ======== é…ç½®é•œåƒï¼ˆä¸­å›½ç”¨æˆ·ï¼‰=======
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
```

## ğŸ”§ **å®æˆ˜ï¼šAIå¼€å‘ç¯å¢ƒé…ç½®æµç¨‹**

```bash
# æ­¥éª¤1ï¼šç”¨APTå®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt update
sudo apt install -y wget git curl build-essential cmake

# æ­¥éª¤2ï¼šç”¨Homebrewå®‰è£…å¼€å‘å·¥å…·
brew install node@20 pyenv rbenv

# æ­¥éª¤3ï¼šç”¨Condaåˆ›å»ºAIç¯å¢ƒ
conda create -n ai-lab python=3.10
conda activate ai-lab

# æ­¥éª¤4ï¼šç”¨pipå®‰è£…PythonåŒ…ï¼ˆåœ¨condaç¯å¢ƒä¸­ï¼‰
pip install numpy pandas matplotlib jupyterlab
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

# æ­¥éª¤5ï¼šç”¨Snapå®‰è£…æ¡Œé¢åº”ç”¨ï¼ˆå¯é€‰ï¼‰
sudo snap install code --classic
```

## ğŸ“Š **åŒ…ç®¡ç†å™¨é€‰æ‹©å»ºè®®**

| éœ€æ±‚ | æ¨èå·¥å…· | ç†ç”± |
|------|---------|------|
| **ç³»ç»Ÿçº§å·¥å…·**ï¼ˆgcc, make, gitï¼‰ | APT | ç¨³å®šï¼Œç³»ç»Ÿé›†æˆå¥½ |
| **å¼€å‘å·¥å…·é“¾**ï¼ˆnode, go, æ–°ç‰ˆï¼‰ | Homebrew | ç‰ˆæœ¬æ–°ï¼Œæ›´æ–°å¿« |
| **Pythonç§‘å­¦è®¡ç®—** | Conda | ç¯å¢ƒéš”ç¦»ï¼Œé¢„ç¼–è¯‘åº“ |
| **æ¡Œé¢åº”ç”¨**ï¼ˆVS Code, IDEï¼‰ | Snap | ä¸€é”®å®‰è£…ï¼Œè‡ªåŠ¨æ›´æ–° |
| **å¿«é€Ÿå°é²œ/æµ‹è¯•** | pip/æºç ç¼–è¯‘ | æœ€æ–°ç‰ˆæœ¬ï¼Œçµæ´»æ€§é«˜ |

## âš¡ **æ€§èƒ½ä¼˜åŒ–å»ºè®®**

```bash
# 1. APTé•œåƒåŠ é€Ÿï¼ˆä¸­å›½ç”¨æˆ·ï¼‰
sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup
sudo sed -i 's/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list
sudo sed -i 's/security.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list

# 2. Homebrewé•œåƒåŠ é€Ÿ
# åœ¨~/.bashrcä¸­æ·»åŠ 
export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git"
export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git"

# 3. æ¸…ç†ç­–ç•¥
# APTæ¯æœˆæ¸…ç†
sudo apt autoremove
sudo apt clean

# Homebrewæ¯å‘¨æ¸…ç†
brew cleanup --prune=7  # æ¸…ç†7å¤©å‰çš„ç¼“å­˜
```

## ğŸš€ **æˆ‘çš„æ¨èé…ç½®**

```bash
#!/bin/bash
# ä¿å­˜ä¸º setup_wsl.sh å¹¶è¿è¡Œ

echo "1. é…ç½®APTé•œåƒæº..."
sudo sed -i 's/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list

echo "2. å®‰è£…åŸºç¡€å·¥å…·..."
sudo apt update && sudo apt install -y build-essential git curl wget zsh

echo "3. å®‰è£…Homebrew..."
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"' >> ~/.bashrc
source ~/.bashrc

echo "4. å®‰è£…Miniconda..."
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
bash miniconda.sh -b -p $HOME/miniconda
echo 'export PATH="$HOME/miniconda/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

echo "5. é…ç½®Shellåˆ«å..."
cat >> ~/.bash_aliases << 'EOF'
# åŒ…ç®¡ç†å¿«æ·æ–¹å¼
alias apti='sudo apt install'
alias brewup='brew update && brew upgrade'
alias condac='conda create -n'
alias condaa='conda activate'
alias pipu='pip install --upgrade'

# å¿«é€Ÿæ¸…ç†
alias cleanup='sudo apt autoremove && sudo apt clean && brew cleanup'
EOF

echo "âœ… é…ç½®å®Œæˆï¼é‡å¯ç»ˆç«¯ç”Ÿæ•ˆ"
```

## â“ **å¸¸è§é—®é¢˜**

```bash
# Q: å¤šä¸ªåŒ…ç®¡ç†å™¨å†²çªï¼Ÿ
# A: ä¼˜å…ˆçº§ï¼šAPTç³»ç»Ÿå·¥å…· > Conda Pythonç¯å¢ƒ > Homebrewå¼€å‘å·¥å…·

# Q: å¦‚ä½•çŸ¥é“è½¯ä»¶åŒ…åœ¨å“ªä¸ªç®¡ç†å™¨ï¼Ÿ
# A: æŒ‰é¡ºåºæ£€æŸ¥ï¼š
which python3     # æŸ¥çœ‹å½“å‰ä½¿ç”¨å“ªä¸ª
apt search python # APTä¸­æœ‰å—ï¼Ÿ
brew search python # Homebrewä¸­æœ‰å—ï¼Ÿ

# Q: å¸è½½å½»åº•ï¼Ÿ
# A: ä½¿ç”¨å¯¹åº”ç®¡ç†å™¨çš„å¸è½½å‘½ä»¤ï¼Œç„¶åæ‰‹åŠ¨æ¸…ç†é…ç½®æ–‡ä»¶
```

**ç»™ä½ çš„å»ºè®®**ï¼š
1. **ä»APTå¼€å§‹** - å®‰è£…ç³»ç»Ÿå¿…éœ€å·¥å…·
2. **æ·»åŠ Homebrew** - äº«å—ç†Ÿæ‚‰çš„brewä½“éªŒ
3. **å¿…è£…Conda** - AIç§‘ç ”çš„æ ‡é…
4. **é€‰æ‹©æ€§ç”¨Snap** - ä¸»è¦è£…å¤§å‹æ¡Œé¢åº”ç”¨

è¿™æ ·é…ç½®åï¼Œä½ æ—¢å¯ä»¥ç”¨ç†Ÿæ‚‰çš„Homebrewå‘½ä»¤ï¼Œåˆèƒ½äº«å—Linuxçš„å¼ºå¤§åŒ…ç®¡ç†ç”Ÿæ€ï¼