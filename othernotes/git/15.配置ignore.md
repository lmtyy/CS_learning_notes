可以通过以下方式在命令行中配置 `.gitignore` 文件：

## 1. 创建全局 gitignore 文件（推荐）

```bash
# 创建全局 gitignore 文件
git config --global core.excludesfile ~/.gitignore_global

# 编辑全局 gitignore
vim ~/.gitignore_global
# 或使用其他编辑器，如：
nano ~/.gitignore_global
code ~/.gitignore_global  # VS Code
```

## 2. 创建项目级 gitignore

```bash
# 进入项目目录
cd /path/to/your/project

# 创建 .gitignore 文件
touch .gitignore

# 使用命令行添加忽略规则（多种方式）
```

## 3. 使用命令行添加忽略规则

### 方法一：使用 echo 命令
```bash
# 添加单条规则
echo "node_modules/" >> .gitignore
echo ".env" >> .gitignore
echo "*.log" >> .gitignore

# 添加多条规则
cat >> .gitignore << EOF
*.pyc
__pycache__/
.DS_Store
.env.local
EOF
```

### 方法二：使用 tee 命令（可避免重复）
```bash
# 检查是否已存在，不存在则添加
grep -q "node_modules" .gitignore || echo "node_modules/" | tee -a .gitignore
```

### 方法三：批量创建针对特定语言/工具的 gitignore
```bash
# 如果已有 .gitignore，追加内容
cat >> .gitignore << 'EOF'
# Python
*.py[cod]
__pycache__/
*.so
.Python

# Node.js
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# IDE
.vscode/
.idea/
*.swp
*.swo
EOF
```

## 4. 使用 gitignore.io API 快速生成（需要 curl）

```bash
# 根据技术栈生成 gitignore
curl -sL https://www.toptal.com/developers/gitignore/api/node,python,vscode > .gitignore

# 常用技术栈组合示例：
curl -sL https://www.toptal.com/developers/gitignore/api/macos,linux,windows,python,node,vscode,visualstudiocode > .gitignore
```

## 5. 常用 gitignore 规则示例

```bash
# 创建基础 .gitignore
cat > .gitignore << 'EOF'
# 系统文件
.DS_Store
Thumbs.db

# 日志文件
*.log
npm-debug.log*

# 运行时数据
*.pid
*.seed
*.pid.lock

# 依赖目录
node_modules/
vendor/
bower_components/

# 环境变量文件
.env
.env.local
.env.production

# 构建输出
dist/
build/
*.exe
*.dll

# IDE
.vscode/
.idea/
*.swp
*.swo
EOF
```

## 6. 验证和检查

```bash
# 检查 gitignore 是否生效
git status --ignored

# 查看哪些文件被忽略
git check-ignore -v <file_name>

# 检查特定文件是否被忽略
git check-ignore -v node_modules/some-file.js
```

## 7. 取消忽略（如果需要）

```bash
# 1. 从 .gitignore 中删除对应规则
# 2. 清除 git 缓存
git rm -r --cached .
git add .
git commit -m "更新 gitignore 规则"
```

## 实用技巧

### 使用别名快速添加
```bash
# 添加别名到 ~/.bashrc 或 ~/.zshrc
alias gi="curl -sL https://www.toptal.com/developers/gitignore/api/\$@"

# 使用方式：gi node,python > .gitignore
```

### 组合多个 gitignore 文件
```bash
# 如果有多个 gitignore 源
cat .gitignore_base .gitignore_local > .gitignore_combined
```

### 验证语法
```bash
# 检查是否有重复或无效规则
sort .gitignore | uniq -c | grep -v '^ *1 '
```

这些命令可以帮助你快速在命令行中配置和管理 `.gitignore` 文件。