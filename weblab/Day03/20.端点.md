# ğŸŒ ç«¯ç‚¹ï¼ˆEndpointï¼‰ï¼šAPIçš„â€œå…·ä½“åœ°å€â€

**ç«¯ç‚¹ = APIçš„å…·ä½“åŠŸèƒ½åœ°å€**ï¼Œå°±åƒ**ä¸åŒæˆ¿é—´çš„é—¨ç‰Œå·**ã€‚

## ğŸ  æœ€ç›´è§‚çš„æ¯”å–»

æƒ³è±¡ä¸€æ ‹åŠå…¬æ¥¼ï¼š

| åŠå…¬æ¥¼ | å¯¹åº”Webåº”ç”¨ |
|--------|------------|
| æ•´æ ‹æ¥¼åœ°å€ï¼šåŒ—äº¬è·¯123å· | ä½ çš„ç½‘ç«™ï¼š`https://example.com` |
| 301å®¤ï¼šäººåŠ›èµ„æºéƒ¨ | APIç«¯ç‚¹ï¼š`/api/hr` |
| 302å®¤ï¼šè´¢åŠ¡éƒ¨ | APIç«¯ç‚¹ï¼š`/api/finance` |
| 303å®¤ï¼šæŠ€æœ¯éƒ¨ | APIç«¯ç‚¹ï¼š`/api/tech` |

**ç«¯ç‚¹å°±æ˜¯å…·ä½“å»å“ªä¸ªæˆ¿é—´åŠäº‹**ã€‚

## ğŸ”— ç«¯ç‚¹çš„ç»„æˆ

```
https://api.example.com  /users     /123    /profile
â”‚                        â”‚           â”‚         â”‚
â””â”€â”€ æœåŠ¡å™¨åœ°å€           â””â”€â”€ èµ„æº    â””â”€â”€ ID   â””â”€â”€ å­èµ„æº
                         ï¼ˆç«¯ç‚¹è·¯å¾„ï¼‰
```

### **å¸¸è§ç«¯ç‚¹ç¤ºä¾‹**

```javascript
// ç¤¾äº¤åª’ä½“åº”ç”¨çš„APIç«¯ç‚¹
GET    /api/users          # è·å–æ‰€æœ‰ç”¨æˆ·ï¼ˆç”¨æˆ·åˆ—è¡¨ï¼‰
GET    /api/users/123      # è·å–IDä¸º123çš„ç”¨æˆ·ï¼ˆå…·ä½“ç”¨æˆ·ï¼‰
POST   /api/users          # åˆ›å»ºæ–°ç”¨æˆ·ï¼ˆæ³¨å†Œï¼‰
PUT    /api/users/123      # æ›´æ–°ç”¨æˆ·123çš„ä¿¡æ¯
DELETE /api/users/123      # åˆ é™¤ç”¨æˆ·123

// åšå®¢åº”ç”¨çš„APIç«¯ç‚¹
GET    /api/posts          # è·å–æ‰€æœ‰æ–‡ç« 
GET    /api/posts/456      # è·å–IDä¸º456çš„æ–‡ç« 
GET    /api/posts/456/comments  # è·å–æ–‡ç« 456çš„è¯„è®º
POST   /api/posts/456/comments  # ç»™æ–‡ç« 456æ·»åŠ è¯„è®º

// ç”µå•†åº”ç”¨çš„APIç«¯ç‚¹  
GET    /api/products       # è·å–å•†å“åˆ—è¡¨
GET    /api/products/789   # è·å–IDä¸º789çš„å•†å“è¯¦æƒ…
GET    /api/cart           # è·å–è´­ç‰©è½¦
POST   /api/cart/items     # æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
```

## ğŸ¯ ç«¯ç‚¹çš„æ ¸å¿ƒç‰¹ç‚¹

### **1. ä¸€ä¸ªç«¯ç‚¹ = ä¸€ä¸ªå…·ä½“åŠŸèƒ½**
```javascript
// âŒ é”™è¯¯çš„ç«¯ç‚¹è®¾è®¡ï¼ˆä¸€ä¸ªç«¯ç‚¹åšå¤ªå¤šäº‹ï¼‰
POST /api/user-operation  
// è¿™ä¸ªç«¯ç‚¹æ˜¯ç”¨æ¥æ³¨å†Œï¼Ÿç™»å½•ï¼Ÿè¿˜æ˜¯ä¿®æ”¹èµ„æ–™ï¼Ÿä¸æ¸…æ¥šï¼

// âœ… æ­£ç¡®çš„ç«¯ç‚¹è®¾è®¡ï¼ˆæ¯ä¸ªç«¯ç‚¹èŒè´£æ˜ç¡®ï¼‰
POST /api/register        # ä¸“é—¨ç”¨äºæ³¨å†Œ
POST /api/login           # ä¸“é—¨ç”¨äºç™»å½•  
PUT  /api/users/profile   # ä¸“é—¨ç”¨äºä¿®æ”¹èµ„æ–™
```

### **2. ç«¯ç‚¹è·¯å¾„æœ‰å±‚çº§ç»“æ„**
```javascript
// æ¸…æ™°çš„å±‚çº§å…³ç³»
/api
â”œâ”€â”€ /users
â”‚   â”œâ”€â”€ /{id}           # å…·ä½“ç”¨æˆ·
â”‚   â”‚   â”œâ”€â”€ /profile    # ç”¨æˆ·èµ„æ–™
â”‚   â”‚   â””â”€â”€ /orders     # ç”¨æˆ·çš„è®¢å•
â”‚   â””â”€â”€ /me             # å½“å‰ç™»å½•ç”¨æˆ·
â”œâ”€â”€ /products
â”‚   â”œâ”€â”€ /{id}           # å…·ä½“å•†å“
â”‚   â””â”€â”€ /categories     # å•†å“åˆ†ç±»
â””â”€â”€ /orders
    â””â”€â”€ /{id}           # å…·ä½“è®¢å•
```

### **3. ç«¯ç‚¹å¯å¸¦å‚æ•°**
```javascript
// é™æ€ç«¯ç‚¹ï¼ˆå›ºå®šåŠŸèƒ½ï¼‰
GET /api/products/latest     # è·å–æœ€æ–°å•†å“ï¼ˆå›ºå®šé€»è¾‘ï¼‰

// åŠ¨æ€ç«¯ç‚¹ï¼ˆå¸¦å‚æ•°ï¼‰
GET /api/products/{id}       # {id}æ˜¯å˜é‡
// å®é™…è°ƒç”¨ï¼š
GET /api/products/123        # è·å–å•†å“123
GET /api/products/456        # è·å–å•†å“456

// å¸¦æŸ¥è¯¢å‚æ•°çš„ç«¯ç‚¹
GET /api/products?category=electronics&sort=price
// é—®å·åé¢çš„ä¸æ˜¯ç«¯ç‚¹è·¯å¾„ï¼Œæ˜¯æŸ¥è¯¢å‚æ•°
```

## ğŸ’» å®é™…ä»£ç ä¸­çš„ç«¯ç‚¹

### **å‰ç«¯å¦‚ä½•è°ƒç”¨ç«¯ç‚¹**
```javascript
// è°ƒç”¨ä¸åŒçš„ç«¯ç‚¹ = è®¿é—®ä¸åŒçš„åŠŸèƒ½
async function callEndpoints() {
  // 1. è°ƒç”¨"è·å–ç”¨æˆ·åˆ—è¡¨"ç«¯ç‚¹
  const users = await fetch('/api/users');
  
  // 2. è°ƒç”¨"è·å–å…·ä½“ç”¨æˆ·"ç«¯ç‚¹ï¼ˆIDä¸º123ï¼‰
  const user = await fetch('/api/users/123');
  
  // 3. è°ƒç”¨"åˆ›å»ºè®¢å•"ç«¯ç‚¹
  const order = await fetch('/api/orders', {
    method: 'POST',
    body: JSON.stringify({ productId: 456, quantity: 2 })
  });
  
  // 4. è°ƒç”¨"æœç´¢å•†å“"ç«¯ç‚¹ï¼ˆå¸¦æŸ¥è¯¢å‚æ•°ï¼‰
  const products = await fetch('/api/products?keyword=æ‰‹æœº&page=2');
}
```

### **åç«¯å¦‚ä½•å®šä¹‰ç«¯ç‚¹**ï¼ˆNode.js + Expressç¤ºä¾‹ï¼‰
```javascript
const express = require('express');
const app = express();

// ========== å®šä¹‰ä¸åŒçš„ç«¯ç‚¹ ==========

// ç«¯ç‚¹1ï¼šè·å–æ‰€æœ‰ç”¨æˆ·
app.get('/api/users', (req, res) => {
  const users = getAllUsersFromDatabase();
  res.json(users);
});

// ç«¯ç‚¹2ï¼šè·å–å…·ä½“ç”¨æˆ·ï¼ˆ:id æ˜¯å‚æ•°ï¼‰
app.get('/api/users/:id', (req, res) => {
  const userId = req.params.id; // è·å–URLä¸­çš„idå‚æ•°
  const user = getUserById(userId);
  res.json(user);
});

// ç«¯ç‚¹3ï¼šåˆ›å»ºæ–°ç”¨æˆ·
app.post('/api/users', (req, res) => {
  const newUser = req.body; // è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®
  createUser(newUser);
  res.json({ success: true, message: 'ç”¨æˆ·åˆ›å»ºæˆåŠŸ' });
});

// ç«¯ç‚¹4ï¼šæ›´æ–°ç”¨æˆ·
app.put('/api/users/:id', (req, res) => {
  const userId = req.params.id;
  const userData = req.body;
  updateUser(userId, userData);
  res.json({ success: true });
});

// ç«¯ç‚¹5ï¼šåˆ é™¤ç”¨æˆ·
app.delete('/api/users/:id', (req, res) => {
  const userId = req.params.id;
  deleteUser(userId);
  res.json({ success: true });
});

// ç«¯ç‚¹6ï¼šè·å–ç”¨æˆ·çš„è®¢å•ï¼ˆåµŒå¥—ç«¯ç‚¹ï¼‰
app.get('/api/users/:userId/orders', (req, res) => {
  const userId = req.params.userId;
  const orders = getUserOrders(userId);
  res.json(orders);
});
```

## ğŸ“ ç«¯ç‚¹çš„å‘½åè§„èŒƒï¼ˆRESTfulé£æ ¼ï¼‰

### **å¥½çš„ç«¯ç‚¹å‘½å**
```javascript
// ä½¿ç”¨åè¯ï¼ˆä¸è¦ç”¨åŠ¨è¯ï¼‰
GET    /api/users           // âœ… å¥½ï¼šè·å–ç”¨æˆ·
GET    /api/getUsers        // âŒ ä¸å¥½ï¼šåŠ¨è¯é‡å¤

// ä½¿ç”¨å¤æ•°å½¢å¼
GET    /api/users           // âœ… å¥½ï¼šç”¨æˆ·é›†åˆ
GET    /api/user           // âŒ ä¸å¥½ï¼šå•æ•°ä¸æ˜ç¡®

// å±‚çº§å…³ç³»æ¸…æ™°
GET    /api/users/123/orders  // âœ… å¥½ï¼šç”¨æˆ·123çš„è®¢å•
GET    /api/user-orders/123   // âŒ ä¸å¥½ï¼šå…³ç³»ä¸æ¸…æ™°

// ä½¿ç”¨è¿å­—ç¬¦ï¼Œä¸ç”¨ä¸‹åˆ’çº¿
GET    /api/user-profiles     // âœ… å¥½ï¼šæ˜“è¯»
GET    /api/user_profiles     // âŒ ä¸å¥½ï¼šä¸è§„èŒƒ
```

### **RESTfulç«¯ç‚¹è®¾è®¡æ¨¡å¼**
```javascript
// å¯¹èµ„æºçš„CRUDæ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
èµ„æºï¼šç”¨æˆ·ï¼ˆUserï¼‰

ç«¯ç‚¹è®¾è®¡ï¼š
GET     /users           â†’ è·å–æ‰€æœ‰ç”¨æˆ·ï¼ˆRead Allï¼‰
GET     /users/{id}      â†’ è·å–å…·ä½“ç”¨æˆ·ï¼ˆRead Oneï¼‰
POST    /users           â†’ åˆ›å»ºæ–°ç”¨æˆ·ï¼ˆCreateï¼‰
PUT     /users/{id}      â†’ æ›´æ–°ç”¨æˆ·ï¼ˆUpdateï¼‰
DELETE  /users/{id}      â†’ åˆ é™¤ç”¨æˆ·ï¼ˆDeleteï¼‰

// å¯¹åº”HTTPæ–¹æ³•
CRUD   â†’  HTTPæ–¹æ³• â†’ ç«¯ç‚¹
Create â†’  POST    â†’ /èµ„æº
Read   â†’  GET     â†’ /èµ„æº æˆ– /èµ„æº/{id}
Update â†’  PUT     â†’ /èµ„æº/{id}
Delete â†’  DELETE  â†’ /èµ„æº/{id}
```

## ğŸ” å®é™…è§‚å¯Ÿç«¯ç‚¹

**æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹çœŸå®ç«¯ç‚¹ï¼š**

1. æŒ‰ **F12** æ‰“å¼€å¼€å‘è€…å·¥å…·
2. è¿›å…¥ **Network**ï¼ˆç½‘ç»œï¼‰æ ‡ç­¾
3. è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼ˆå¦‚å¾®åšã€çŸ¥ä¹ï¼‰
4. è§‚å¯Ÿè¯·æ±‚çš„ **Request URL**ï¼ˆè¿™å°±æ˜¯ç«¯ç‚¹ï¼ï¼‰

```
ä½ å¯èƒ½ä¼šçœ‹åˆ°ï¼š
https://www.zhihu.com/api/v4/questions/123456789/answers
         â†‘           â†‘       â†‘         â†‘         â†‘
       åŸŸå        APIç‰ˆæœ¬  èµ„æº      èµ„æºID    å­èµ„æº
```

## ğŸ¯ åˆå­¦è€…å¦‚ä½•ç†è§£ç«¯ç‚¹

### **æŠŠç«¯ç‚¹æƒ³è±¡æˆï¼š**

1. **é¤å…çš„èœå•é¡¹**
   - é±¼é¦™è‚‰ä¸ = `/api/dishes/fish-pork`
   - å®«ä¿é¸¡ä¸ = `/api/dishes/kungpao-chicken`

2. **æ‰‹æœºçš„å¿«æ·æŒ‡ä»¤**
   - æ‰“ç”µè¯ç»™å¦ˆå¦ˆ = `/contacts/mom/call`
   - å‘çŸ­ä¿¡ç»™æœ‹å‹ = `/contacts/friend/message`

3. **å¿«é€’çš„å–ä»¶ç **
   - å–123å·å¿«é€’ = `/packages/123/pickup`
   - æŸ¥è¯¢456å¿«é€’ = `/packages/456/track`

### **ä¸€å¥è¯æ€»ç»“ï¼š**
**ç«¯ç‚¹æ˜¯APIçš„å…·ä½“åœ°å€ï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼š"æˆ‘è¦è°ƒç”¨å“ªä¸ªå…·ä½“åŠŸèƒ½"ã€‚**

- è®¿é—® `/api/users` = "æˆ‘è¦ç”¨æˆ·åˆ—è¡¨"
- è®¿é—® `/api/users/123` = "æˆ‘è¦IDä¸º123çš„ç”¨æˆ·"
- è®¿é—® `/api/login` = "æˆ‘è¦ç™»å½•"

---

**ç»ƒä¹ **ï¼šè®¾è®¡ä¸€ä¸ªåšå®¢ç³»ç»Ÿçš„ç«¯ç‚¹
1. è·å–æ‰€æœ‰æ–‡ç« ï¼š`GET /api/posts`
2. è·å–å…·ä½“æ–‡ç« ï¼šï¼Ÿ
3. å‘è¡¨æ–°æ–‡ç« ï¼šï¼Ÿ
4. åˆ é™¤æ–‡ç« ï¼šï¼Ÿ
5. è·å–æ–‡ç« çš„è¯„è®ºï¼šï¼Ÿ

æƒ³å¥½äº†å—ï¼Ÿè¿™æ˜¯ç†è§£ç«¯ç‚¹çš„æœ€å¥½æ–¹å¼ï¼