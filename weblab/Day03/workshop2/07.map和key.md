# key ç®€å•è§£é‡Š

## 1. **ä¸ºä»€ä¹ˆéœ€è¦ keyï¼Ÿ**

æƒ³è±¡ä¸€ä¸‹ï¼šReact åƒè€å¸ˆï¼Œå­¦ç”Ÿï¼ˆç»„ä»¶ï¼‰åœ¨æ’é˜Ÿã€‚

```jsx
// æ²¡æœ‰ key çš„æƒ…å†µ
å­¦ç”Ÿ1: å°æ˜
å­¦ç”Ÿ2: å°çº¢
å­¦ç”Ÿ3: å°åˆš
```

å¦‚æœå°çº¢èµ°äº†ï¼Œè€å¸ˆä¸çŸ¥é“æ˜¯å°çº¢èµ°äº†ï¼ŒåªçŸ¥é“â€œç¬¬äºŒä¸ªå­¦ç”Ÿèµ°äº†â€ã€‚

```jsx
// æœ‰ key çš„æƒ…å†µ
å­¦ç”Ÿ(key=001): å°æ˜
å­¦ç”Ÿ(key=002): å°çº¢ â† è€å¸ˆçŸ¥é“è¿™æ˜¯å°çº¢
å­¦ç”Ÿ(key=003): å°åˆš
```

å°çº¢èµ°äº†ï¼Œè€å¸ˆä¸€çœ‹ï¼šâ€œå“¦ï¼Œkey=002 çš„å°çº¢èµ°äº†â€ã€‚

## 2. **ä»£ç å¯¹æ¯”**

### âŒ æ²¡æœ‰ keyï¼ˆReact ä¼šè­¦å‘Šï¼‰
```jsx
function BadList() {
  const fruits = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­'];
  
  return (
    <ul>
      {fruits.map(fruit => (
        <li>{fruit}</li>  // âŒ æ§åˆ¶å°ä¼šæœ‰è­¦å‘Š
      ))}
    </ul>
  );
}
```

### âœ… æœ‰ keyï¼ˆæ­£ç¡®åšæ³•ï¼‰
```jsx
function GoodList() {
  const fruits = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­'];
  
  return (
    <ul>
      {fruits.map((fruit, index) => (
        <li key={index}>{fruit}</li>  // âœ… åŠ  key
      ))}
    </ul>
  );
}
```

## 3. **key æ€ä¹ˆé€‰ï¼Ÿ**

```jsx
// æƒ…å†µ1ï¼šæ•°æ®é‡Œæœ‰ idï¼ˆæœ€å¥½ï¼‰
const users = [
  { id: 'u001', name: 'å°æ˜' },  // â† ç”¨è¿™ä¸ª id
  { id: 'u002', name: 'å°çº¢' }
];

{users.map(user => (
  <div key={user.id}>{user.name}</div>  // âœ… ç”¨æ•°æ®çš„ id
))}

// æƒ…å†µ2ï¼šæ•°æ®æ²¡æœ‰ idï¼Œç”¨ index
{fruits.map((fruit, index) => (
  <li key={index}>{fruit}</li>  // âœ… ç”¨ index
))}

// æƒ…å†µ3ï¼šè‡ªå·±é€ ä¸€ä¸ª key
{fruits.map((fruit, index) => (
  <li key={`fruit-${index}`}>{fruit}</li>  // âœ… è‡ªå·±é€ 
))}
```

## 4. **ä»€ä¹ˆæ—¶å€™ index ä¸å¥½ï¼Ÿ**

```jsx
// é—®é¢˜ä¾‹å­ï¼š
function TodoList() {
  const [todos, setTodos] = useState([
    'å†™ä½œä¸š', 'åƒé¥­', 'ç¡è§‰'
  ]);
  
  const removeFirst = () => {
    // åˆ é™¤ç¬¬ä¸€ä¸ª
    setTodos(todos.slice(1));
  };
  
  return (
    <div>
      <button onClick={removeFirst}>åˆ é™¤ç¬¬ä¸€ä¸ª</button>
      <ul>
        {todos.map((todo, index) => (
          <li key={index}>
            {todo} <input type="checkbox" />
          </li>
        ))}
      </ul>
    </div>
  );
}
```

**é—®é¢˜**ï¼šåˆ é™¤â€œå†™ä½œä¸šâ€åï¼š
- åŸæ¥ key=0 çš„â€œå†™ä½œä¸šâ€æ²¡äº†
- åŸæ¥çš„ key=1â€œåƒé¥­â€å˜æˆ key=0
- åŸæ¥çš„ key=2â€œç¡è§‰â€å˜æˆ key=1

React å¯èƒ½ä¼šææ··çŠ¶æ€ï¼ˆæ¯”å¦‚ checkbox çš„å‹¾é€‰çŠ¶æ€ï¼‰ã€‚

## 5. **åˆå­¦è€…å»ºè®®**

```jsx
// åˆšå¼€å§‹å°±è¿™æ ·å†™ï¼š
function SimpleList() {
  const items = ['A', 'B', 'C'];
  
  return (
    <ul>
      {items.map((item, index) => (
        <li key={index}>{item}</li>  // âœ… å…ˆç”¨ indexï¼Œå¤Ÿç”¨äº†
      ))}
    </ul>
  );
}

// ç­‰ä½ æœ‰æ•°æ®åº“æ•°æ®äº†ï¼š
function UserList() {
  const users = [
    { id: 1, name: 'å°æ˜' },  // æ•°æ®åº“æ¥çš„ id
    { id: 2, name: 'å°çº¢' }
  ];
  
  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>  // âœ… ç”¨æ•°æ®åº“ id
      ))}
    </ul>
  );
}
```

## ğŸ“ **ä¸€å¥è¯æ€»ç»“ï¼š**
**æ¯ä¸ª `map` é‡Œçš„å…ƒç´ éƒ½è¦åŠ  `key={...}`ï¼Œç”¨æ•°æ®çš„ id æœ€å¥½ï¼Œæ²¡æœ‰å°±ç”¨ indexã€‚**

## ğŸ¯ **ç»ƒä¹ **
```jsx
// çœ‹çœ‹å“ªé‡Œæœ‰é—®é¢˜ï¼Ÿ
function Exercise() {
  const products = [
    { name: 'æ‰‹æœº', price: 1999 },
    { name: 'ç”µè„‘', price: 5999 }
  ];
  
  return (
    <div>
      {products.map(product => (
        <div>
          <h3>{product.name}</h3>
          <p>ä»·æ ¼: {product.price}å…ƒ</p>
        </div>
      ))}
    </div>
  );
}

// ç­”æ¡ˆï¼šdiv ç¼ºå°‘ keyï¼
// åº”è¯¥æ”¹æˆï¼š<div key={product.name}> æˆ– <div key={index}>
```

è®°ä½ï¼š**çœ‹åˆ° `map` å°±åŠ  `key`**ï¼Œå…»æˆä¹ æƒ¯å°±å¥½äº†ï¼