好的！JavaScript 的数据类型是一个非常重要的基础概念。让我为你详细讲解。

## 1. 数据类型的分类

JavaScript 的数据类型分为两大类：

### 基本数据类型（原始类型）
- `String` - 字符串
- `Number` - 数字
- `Boolean` - 布尔值
- `Undefined` - 未定义
- `Null` - 空值
- `Symbol` - 符号（ES6新增）
- `BigInt` - 大整数（ES2020新增）

### 引用数据类型（对象类型）
- `Object` - 对象
- `Array` - 数组
- `Function` - 函数
- `Date` - 日期
- `RegExp` - 正则表达式
- 等...

## 2. 基本数据类型详解

### String（字符串）
表示文本数据
```javascript
let name = "张三";
let greeting = 'Hello';
let message = `你好，${name}`;  // 模板字符串

console.log(typeof name);        // "string"
console.log(greeting.length);    // 5
console.log(message);           // "你好，张三"
```

### Number（数字）
表示整数和浮点数
```javascript
let age = 25;           // 整数
let price = 99.99;      // 浮点数
let temperature = -10;  // 负数
let infinity = Infinity; // 无穷大
let notANumber = NaN;   // 非数字

console.log(typeof age);        // "number"
console.log(0.1 + 0.2);        // 0.30000000000000004（浮点数精度问题）
console.log(10 / 0);           // Infinity
console.log("abc" * 2);        // NaN
```

### Boolean（布尔值）
表示真或假
```javascript
let isLogged = true;
let isEmpty = false;
let isGreater = 10 > 5;  // true

console.log(typeof isLogged);  // "boolean"
console.log(Boolean(0));       // false
console.log(Boolean(1));       // true
console.log(Boolean(""));      // false
console.log(Boolean("hello")); // true
```

### Undefined（未定义）
变量已声明但未赋值
```javascript
let undefinedVar;
let test;

console.log(typeof undefinedVar);  // "undefined"
console.log(test === undefined);   // true
console.log(undefinedVar);         // undefined
```

### Null（空值）
表示空值或不存在的对象
```javascript
let emptyValue = null;
let user = null;

console.log(typeof emptyValue);    // "object"（这是JavaScript的历史遗留问题）
console.log(emptyValue === null);  // true
console.log(user);                 // null
```

### Symbol（符号）
ES6新增，表示唯一的标识符
```javascript
let sym1 = Symbol("description");
let sym2 = Symbol("description");
let sym3 = Symbol();

console.log(typeof sym1);          // "symbol"
console.log(sym1 === sym2);        // false（每个Symbol都是唯一的）
console.log(sym1.description);     // "description"

// 常用作对象属性的键
const user = {
    [Symbol('id')]: 123,
    name: "张三"
};
```

### BigInt（大整数）
ES2020新增，表示任意精度的整数
```javascript
let bigNumber = 123456789012345678901234567890n;
let bigIntFromNumber = BigInt(9007199254740991);

console.log(typeof bigNumber);     // "bigint"
console.log(bigNumber + 1n);       // 123456789012345678901234567891n

// 普通number的最大安全整数
console.log(Number.MAX_SAFE_INTEGER);  // 9007199254740991
```

## 3. 引用数据类型详解

### Object（对象）
键值对的集合
```javascript
let person = {
    name: "李四",
    age: 30,
    isStudent: false,
    hobbies: ["读书", "运动"],
    address: {
        city: "北京",
        street: "长安街"
    },
    sayHello: function() {
        console.log("你好！");
    }
};

console.log(typeof person);        // "object"
console.log(person.name);          // "李四"
console.log(person["age"]);        // 30
person.sayHello();                 // "你好！"
```

### Array（数组）
有序的数据集合
```javascript
let fruits = ["苹果", "香蕉", "橙子"];
let mixedArray = [1, "hello", true, {name: "张三"}];

console.log(typeof fruits);        // "object"
console.log(Array.isArray(fruits)); // true
console.log(fruits[0]);            // "苹果"
console.log(fruits.length);        // 3

// 数组方法
fruits.push("葡萄");               // 添加元素
fruits.pop();                      // 删除最后一个元素
console.log(fruits);               // ["苹果", "香蕉", "橙子", "葡萄"]
```

### Function（函数）
可执行的代码块
```javascript
function greet(name) {
    return `你好，${name}！`;
}

let multiply = function(a, b) {
    return a * b;
};

let divide = (a, b) => a / b;

console.log(typeof greet);         // "function"
console.log(greet("王五"));        // "你好，王五！"
console.log(multiply(4, 5));       // 20
```

## 4. 类型检测方法

### typeof 运算符
```javascript
console.log(typeof "hello");       // "string"
console.log(typeof 42);            // "number"
console.log(typeof true);          // "boolean"
console.log(typeof undefined);     // "undefined"
console.log(typeof null);          // "object"（注意这个特殊情况！）
console.log(typeof Symbol());      // "symbol"
console.log(typeof 123n);          // "bigint"
console.log(typeof {});            // "object"
console.log(typeof []);            // "object"
console.log(typeof function(){});  // "function"
```

### instanceof 运算符
检测对象是否属于某个构造函数
```javascript
let arr = [1, 2, 3];
let obj = {name: "张三"};
let date = new Date();

console.log(arr instanceof Array);     // true
console.log(obj instanceof Object);    // true
console.log(date instanceof Date);     // true
console.log(arr instanceof Object);    // true（所有对象都是Object的实例）
```

### Array.isArray()
专门检测数组
```javascript
console.log(Array.isArray([1, 2, 3]));    // true
console.log(Array.isArray({}));           // false
```

## 5. 类型转换

### 显式类型转换
```javascript
// 转换为字符串
let num = 123;
console.log(String(num));          // "123"
console.log(num.toString());       // "123"

// 转换为数字
let str = "456";
console.log(Number(str));          // 456
console.log(parseInt("123px"));    // 123
console.log(parseFloat("3.14"));   // 3.14

// 转换为布尔值
console.log(Boolean(0));           // false
console.log(Boolean(1));           // true
console.log(Boolean(""));          // false
console.log(Boolean("hello"));     // true
```

### 隐式类型转换
```javascript
// 字符串拼接
console.log("答案是：" + 42);       // "答案是：42"

// 数学运算
console.log("5" - 2);              // 3
console.log("5" + 2);              // "52"（注意：+ 优先字符串拼接）
console.log("5" * "2");            // 10

// 布尔上下文
if ("hello") {                     // "hello" 被转换为 true
    console.log("会执行");
}

console.log(!!"hello");            // true
```

## 6. 值和引用传递的区别

### 基本数据类型 - 值传递
```javascript
let a = 10;
let b = a;  // b 是 a 的副本
b = 20;

console.log(a);  // 10（a 不变）
console.log(b);  // 20
```

### 引用数据类型 - 引用传递
```javascript
let obj1 = { name: "张三" };
let obj2 = obj1;  // obj2 和 obj1 指向同一个对象

obj2.name = "李四";

console.log(obj1.name);  // "李四"（obj1 也变了）
console.log(obj2.name);  // "李四"
```

## 7. 实际应用示例

### 用户信息处理
```javascript
// 用户对象
let user = {
    id: Symbol('user_id'),
    name: "王小明",
    age: 25,
    isVIP: true,
    tags: ["活跃用户", "新用户"],
    loginTimes: 156n,  // BigInt
    lastLogin: null,
    preferences: undefined
};

// 类型检查函数
function validateUser(user) {
    if (typeof user.name !== 'string' || user.name.trim() === '') {
        return "用户名无效";
    }
    
    if (typeof user.age !== 'number' || user.age < 0) {
        return "年龄无效";
    }
    
    if (!Array.isArray(user.tags)) {
        return "标签必须是数组";
    }
    
    return "用户信息有效";
}

console.log(validateUser(user));
```

### 数据类型工具函数
```javascript
// 安全的类型检查函数
function getType(value) {
    if (value === null) return "null";
    if (Array.isArray(value)) return "array";
    return typeof value;
}

// 测试
console.log(getType("hello"));     // "string"
console.log(getType(123));         // "number"
console.log(getType(null));        // "null"
console.log(getType([1, 2, 3]));   // "array"
console.log(getType({}));          // "object"
```

## 8. 重要注意事项

### 1. null 和 undefined 的区别
```javascript
console.log(null == undefined);    // true（非严格相等）
console.log(null === undefined);   // false（严格相等）
console.log(Number(null));         // 0
console.log(Number(undefined));    // NaN
```

### 2. NaN 的特殊性
```javascript
console.log(NaN === NaN);          // false（NaN不等于任何值，包括自己）
console.log(isNaN(NaN));           // true
console.log(isNaN("hello"));       // true
console.log(Number.isNaN(NaN));    // true（推荐使用）
console.log(Number.isNaN("hello")); // false
```

### 3. 浮点数精度问题
```javascript
console.log(0.1 + 0.2);            // 0.30000000000000004
console.log(0.1 + 0.2 === 0.3);    // false

// 解决方案
console.log((0.1 * 10 + 0.2 * 10) / 10 === 0.3);  // true
```

## 总结

理解 JavaScript 数据类型的关键点：

1. **两种大类**：基本类型（值传递）和引用类型（引用传递）
2. **7种基本类型**：string, number, boolean, undefined, null, symbol, bigint
3. **类型检测**：使用 typeof, instanceof, Array.isArray()
4. **类型转换**：显式和隐式转换
5. **特殊值**：注意 null, undefined, NaN 的特殊行为

掌握这些数据类型知识是成为 JavaScript 开发者的重要基础！