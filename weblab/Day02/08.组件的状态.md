å¥½çš„ï¼Stateï¼ˆçŠ¶æ€ï¼‰æ˜¯ React ä¸­è¶…çº§é‡è¦çš„æ¦‚å¿µï¼Œæˆ‘ç”¨äººè¯ç»™ä½ è§£é‡Šæ¸…æ¥šã€‚

## ä»€ä¹ˆæ˜¯ Stateï¼Ÿ

**State å°±æ˜¯ç»„ä»¶è®°å¿†ä¿¡æ¯çš„æ–¹å¼**ï¼Œè®©ç»„ä»¶èƒ½"è®°ä½"ä¸œè¥¿å¹¶ä¸”èƒ½æ›´æ–°ã€‚

æƒ³è±¡ä¸€ä¸‹ï¼š
- **æ™®é€šå˜é‡**ï¼šåƒä¾¿åˆ©è´´ï¼Œå†™ä¸Šå»å°±å›ºå®šäº†
- **State**ï¼šåƒæ™ºèƒ½æ‰‹æœºå±å¹•ï¼Œç‚¹äº†ä¼šå˜åŒ–ã€ä¼šæ›´æ–°

---

## æœ€ç®€å•çš„ä¾‹å­ï¼šè®¡æ•°å™¨

```jsx
import { useState } from 'react';

function Counter() {
  // åˆ›å»ºä¸€ä¸ª stateï¼Œåˆå§‹å€¼æ˜¯ 0
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>ä½ ç‚¹å‡»äº† {count} æ¬¡</p>
      <button onClick={() => setCount(count + 1)}>
        ç‚¹æˆ‘åŠ 1
      </button>
    </div>
  );
}
```

**è¿™ä¸ªç»„ä»¶ä¼šï¼š**
- ç¬¬ä¸€æ¬¡æ˜¾ç¤ºï¼š"ä½ ç‚¹å‡»äº† 0 æ¬¡"
- ç‚¹å‡»æŒ‰é’® â†’ æ˜¾ç¤ºï¼š"ä½ ç‚¹å‡»äº† 1 æ¬¡"
- å†ç‚¹å‡» â†’ æ˜¾ç¤ºï¼š"ä½ ç‚¹å‡»äº† 2 æ¬¡"
- ...

---

## State å’Œæ™®é€šå˜é‡çš„åŒºåˆ«

### æ™®é€šå˜é‡ï¼ˆä¸ä¼šæ›´æ–°ç•Œé¢ï¼‰ï¼š
```jsx
function BadCounter() {
  let count = 0;  // æ™®é€šå˜é‡
  
  const handleClick = () => {
    count = count + 1;     // å€¼ç¡®å®å˜äº†
    console.log(count);    // æ§åˆ¶å°ä¼šè¾“å‡º 1, 2, 3...
  };

  return (
    <div>
      <p>ä½ ç‚¹å‡»äº† {count} æ¬¡</p>  {/* è¿™é‡Œæ°¸è¿œæ˜¾ç¤º 0ï¼ */}
      <button onClick={handleClick}>ç‚¹æˆ‘</button>
    </div>
  );
}
```

### Stateï¼ˆä¼šæ›´æ–°ç•Œé¢ï¼‰ï¼š
```jsx
function GoodCounter() {
  const [count, setCount] = useState(0);  // state
  
  const handleClick = () => {
    setCount(count + 1);  // å€¼å˜äº†ï¼Œç•Œé¢ä¹Ÿè‡ªåŠ¨æ›´æ–°ï¼
  };

  return (
    <div>
      <p>ä½ ç‚¹å‡»äº† {count} æ¬¡</p>  {/* è¿™é‡Œä¼šæ˜¾ç¤º 0, 1, 2... */}
      <button onClick={handleClick}>ç‚¹æˆ‘</button>
    </div>
  );
}
```

---

## æ€ä¹ˆä½¿ç”¨ Stateï¼Ÿ

### 1. å¼•å…¥ useState
```jsx
import { useState } from 'react';
```

### 2. å£°æ˜ state
```jsx
const [çŠ¶æ€å, è®¾ç½®çŠ¶æ€çš„å‡½æ•°] = useState(åˆå§‹å€¼);
```

ä¾‹å­ï¼š
```jsx
const [name, setName] = useState('å°æ˜');      // å­—ç¬¦ä¸²
const [age, setAge] = useState(12);           // æ•°å­—
const [isOnline, setIsOnline] = useState(true); // å¸ƒå°”å€¼
const [list, setList] = useState([]);         // æ•°ç»„
```

### 3. è¯»å– state
```jsx
<p>å§“åï¼š{name}</p>
<p>å¹´é¾„ï¼š{age}</p>
<p>çŠ¶æ€ï¼š{isOnline ? 'åœ¨çº¿' : 'ç¦»çº¿'}</p>
```

### 4. æ›´æ–° state
```jsx
// æ­£ç¡®ï¼šä½¿ç”¨è®¾ç½®å‡½æ•°
setName('å°çº¢');
setAge(13);
setIsOnline(false);

// é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹
name = 'å°çº¢';        // âŒ ä¸ä¼šæ›´æ–°ç•Œé¢ï¼
```

---

## å®é™…ä¾‹å­

### ä¾‹å­1ï¼šå¼€å…³æŒ‰é’®
```jsx
function ToggleButton() {
  const [isOn, setIsOn] = useState(false);

  return (
    <button 
      onClick={() => setIsOn(!isOn)}
      style={{
        background: isOn ? 'green' : 'gray',
        color: 'white',
        padding: '10px 20px'
      }}
    >
      {isOn ? 'å¼€' : 'å…³'}
    </button>
  );
}
```
ç‚¹å‡»æ—¶ä¼šåœ¨"å¼€/å…³"ä¹‹é—´åˆ‡æ¢ï¼Œé¢œè‰²ä¹Ÿä¼šå˜åŒ–ã€‚

### ä¾‹å­2ï¼šè¾“å…¥æ¡† + æ˜¾ç¤º
```jsx
function NameDisplay() {
  const [name, setName] = useState('');

  return (
    <div>
      <input 
        value={name}
        onChange={(e) => setName(e.target.value)}
        placeholder="è¯·è¾“å…¥ä½ çš„åå­—"
      />
      <p>ä½ å¥½ï¼Œ{name || 'é™Œç”Ÿäºº'}ï¼</p>
    </div>
  );
}
```
åœ¨è¾“å…¥æ¡†æ‰“å­—æ—¶ï¼Œä¸‹é¢çš„æ–‡å­—ä¼šå®æ—¶æ›´æ–°ã€‚

### ä¾‹å­3ï¼šå¾…åŠäº‹é¡¹
```jsx
function SimpleTodo() {
  const [todos, setTodos] = useState(['å­¦ä¹  React', 'å†™ä½œä¸š']);
  const [input, setInput] = useState('');

  const addTodo = () => {
    if (input) {
      setTodos([...todos, input]);  // æ·»åŠ æ–°ä»»åŠ¡
      setInput('');                 // æ¸…ç©ºè¾“å…¥æ¡†
    }
  };

  return (
    <div>
      <h3>æˆ‘çš„å¾…åŠ</h3>
      <input 
        value={input}
        onChange={(e) => setInput(e.target.value)}
        placeholder="æ·»åŠ æ–°ä»»åŠ¡"
      />
      <button onClick={addTodo}>æ·»åŠ </button>
      
      <ul>
        {todos.map((todo, index) => (
          <li key={index}>{todo}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

## State çš„é‡è¦è§„åˆ™

### 1. ä¸è¦ç›´æ¥ä¿®æ”¹ state
```jsx
// âŒ é”™è¯¯
todos.push('æ–°ä»»åŠ¡');
isOn = true;

// âœ… æ­£ç¡®
setTodos([...todos, 'æ–°ä»»åŠ¡']);
setIsOn(true);
```

### 2. æ¯æ¬¡ setState éƒ½ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶
```jsx
function Example() {
  const [count, setCount] = useState(0);
  
  const handleClick = () => {
    setCount(1);  // ç•Œé¢ä¼šæ›´æ–°
    setCount(2);  // ç•Œé¢ä¼šå†æ¬¡æ›´æ–°
  };
  
  // è¿™ä¸ªç»„ä»¶ä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼
}
```

### 3. State æ˜¯ç‹¬ç«‹çš„
```jsx
function App() {
  return (
    <div>
      <Counter />  {/* æœ‰è‡ªå·±çš„ count state */}
      <Counter />  {/* ä¹Ÿæœ‰è‡ªå·±çš„ count stateï¼Œäº’ä¸å½±å“ */}
      <Counter />  {/* æ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ */}
    </div>
  );
}
```

---

## ä»€ä¹ˆæ—¶å€™ç”¨ Stateï¼Ÿ

ç”¨ State æ¥å­˜å‚¨ï¼š
- âœ… ä¼šå˜åŒ–çš„æ•°æ®
- âœ… ç”¨æˆ·è¾“å…¥çš„å†…å®¹
- âœ… å¼€å…³çŠ¶æ€ï¼ˆæ˜¾ç¤º/éšè—ã€å±•å¼€/æ”¶èµ·ï¼‰
- âœ… åˆ—è¡¨æ•°æ®
- âœ… éœ€è¦å“åº”å¼æ›´æ–°çš„ä»»ä½•æ•°æ®

ä¸ç”¨ State å­˜å‚¨ï¼š
- âŒ å›ºå®šçš„å¸¸é‡
- âŒ ä¸ä¼šå˜åŒ–çš„æ•°æ®
- âŒ å¯ä»¥ä» props è®¡ç®—å‡ºçš„æ•°æ®

---

## æ€»ç»“

è®°ä½è¿™å‡ ç‚¹ï¼š

1. **State = ç»„ä»¶çš„è®°å¿†**ï¼šè®©ç»„ä»¶è®°ä½ä¼šå˜åŒ–çš„æ•°æ®
2. **useState Hook**ï¼š`const [å€¼, è®¾ç½®å‡½æ•°] = useState(åˆå§‹å€¼)`
3. **æ›´æ–°è¦ç”¨è®¾ç½®å‡½æ•°**ï¼š`setXxx(æ–°å€¼)`ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹
4. **State æ›´æ–° â†’ ç•Œé¢è‡ªåŠ¨æ›´æ–°**ï¼šReact ä¼šå¸®ä½ å¤„ç†
5. **æ¯ä¸ªç»„ä»¶ state ç‹¬ç«‹**ï¼šåŒæ ·çš„ç»„ä»¶äº’ä¸å½±å“

**ç®€å•è®°ï¼šState å°±æ˜¯ç»™ç»„ä»¶æ·»åŠ "è®°å¿†åŠ›"ï¼**

ç°åœ¨ä½ æ˜ç™½ä¸ºä»€ä¹ˆéœ€è¦ State äº†å—ï¼Ÿå®ƒå°±æ˜¯è®©ç½‘é¡µ"æ´»"èµ·æ¥çš„å…³é”®ï¼ğŸ‰